import{t as e,a as t,i as n,n as o,b as r,c as s,d as a,e as l}from"./animations-5EjI359r.js";import{a as i,w as u,l as c,p as f,g as v}from"./vendor-DV8wc6z2.js";function d(e){var n;const o=t(e);return null!=(n=null==o?void 0:o.$el)?n:o}const m=s?window:void 0;function p(...e){let n,r,s,i;if("string"==typeof e[0]||Array.isArray(e[0])?([r,s,i]=e,n=m):[n,r,s,i]=e,!n)return o;Array.isArray(r)||(r=[r]),Array.isArray(s)||(s=[s]);const c=[],f=()=>{c.forEach(e=>e()),c.length=0},v=u(()=>[d(n),t(i)],([e,t])=>{if(f(),!e)return;const n=a(t)?{...t}:t;c.push(...r.flatMap(t=>s.map(o=>((e,t,n,o)=>(e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)))(e,t,o,n))))},{immediate:!0,flush:"post"}),p=()=>{v(),f()};return l(p),p}function w(e){const t=function(){const e=i(!1),t=v();return t&&f(()=>{e.value=!0},t),e}();return c(()=>(t.value,Boolean(e())))}function h(e,n,s={}){const{root:a,rootMargin:f="0px",threshold:v=.1,window:p=m,immediate:h=!0}=s,y=w(()=>p&&"IntersectionObserver"in p),g=c(()=>{const n=t(e);return(Array.isArray(n)?n:[n]).map(d).filter(r)});let A=o;const E=i(h),b=y.value?u(()=>[g.value,d(a),E.value],([e,t])=>{if(A(),!E.value)return;if(!e.length)return;const r=new IntersectionObserver(n,{root:d(t),rootMargin:f,threshold:v});e.forEach(e=>e&&r.observe(e)),A=()=>{r.disconnect(),A=o}},{immediate:h,flush:"post"}):o,D=()=>{A(),b(),E.value=!1};return l(D),{isSupported:y,isActive:E,pause(){A(),E.value=!1},resume(){E.value=!0},stop:D}}function y(e){return"undefined"!=typeof Window&&e instanceof Window?e.document.documentElement:"undefined"!=typeof Document&&e instanceof Document?e.documentElement:e}function g(e){const t=window.getComputedStyle(e);if("scroll"===t.overflowX||"scroll"===t.overflowY||"auto"===t.overflowX&&e.clientWidth<e.scrollWidth||"auto"===t.overflowY&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!(!t||"BODY"===t.tagName)&&g(t)}}function A(e){const t=e||window.event;return!g(t.target)&&(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))}const E=new WeakMap;function b(o,r=!1){const s=i(r);let a=null,f="";u(e(o),e=>{const n=y(t(e));if(n){const e=n;if(E.get(e)||E.set(e,e.style.overflow),"hidden"!==e.style.overflow&&(f=e.style.overflow),"hidden"===e.style.overflow)return s.value=!0;if(s.value)return e.style.overflow="hidden"}},{immediate:!0});const v=()=>{const e=y(t(o));e&&s.value&&(n&&(null==a||a()),e.style.overflow=f,E.delete(e),s.value=!1)};return l(v),c({get:()=>s.value,set(e){e?(()=>{const e=y(t(o));e&&!s.value&&(n&&(a=p(e,"touchmove",e=>{A(e)},{passive:!1})),e.style.overflow="hidden",s.value=!0)})():v()}})}export{p as a,d as b,b as c,h as u};
